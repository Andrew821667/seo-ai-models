# Тестирование Enhanced EEAT Analyzer

import sys
sys.path.append('/content/seo-ai-models')

from models.seo_advisor.enhanced_eeat_analyzer import EnhancedEEATAnalyzer, generate_synthetic_training_data

# Тестовый текст для анализа E-E-A-T
test_text = """
# Основные симптомы гриппа: как отличить от простуды

*Последнее обновление: 15.03.2023*

## Введение

Грипп и простуда являются распространенными вирусными заболеваниями, особенно в осенне-зимний период. Несмотря на схожесть симптомов, это два разных заболевания, вызываемых разными вирусами. По данным Всемирной организации здравоохранения (ВОЗ), ежегодно гриппом болеют от 5% до 10% взрослых и от 20% до 30% детей.

## Симптомы гриппа

Согласно исследованиям, опубликованным в журнале "The Lancet" за 2022 год, грипп обычно характеризуется следующими симптомами:

- Высокая температура (38-40°C)
- Резкое начало заболевания
- Выраженная слабость и недомогание
- Головная боль, преимущественно в лобной области
- Боль в мышцах и суставах
- Сухой кашель
- Боль в горле
- Заложенность носа (реже насморк)

Как отметил профессор Иванов, заведующий кафедрой инфекционных болезней: «Характерной особенностью гриппа является острое начало с внезапным повышением температуры и выраженной интоксикацией, в то время как простуда развивается постепенно».

## Симптомы простуды

В отличие от гриппа, простуда имеет следующие особенности:

1. Постепенное начало заболевания
2. Умеренная температура (редко выше 38°C)
3. Насморк и заложенность носа
4. Чихание
5. Боль в горле
6. Влажный кашель
7. Менее выраженная слабость

## Методы диагностики

Для точной диагностики гриппа используются следующие методы:

* ПЦР-тест (полимеразная цепная реакция)
* Иммунохроматографический анализ
* Серологические исследования

Данные методы позволяют определить тип вируса и назначить соответствующее лечение.

## Осложнения гриппа

По статистике Министерства здравоохранения за 2021-2022 гг., у 5-15% заболевших гриппом развиваются осложнения, из которых наиболее частыми являются:

| Осложнение | Частота | Группа риска |
|------------|---------|--------------|
| Пневмония | 8% | Пожилые люди, люди с хроническими заболеваниями |
| Синусит | 6% | Взрослые и дети |
| Бронхит | 5% | Курильщики, дети |
| Отит | 3% | Дети до 5 лет |

## Лечение и профилактика

Врач-терапевт Петрова С.А. рекомендует: «Для лечения гриппа применяются противовирусные препараты, жаропонижающие средства и обильное питье. Важно начать лечение в первые 48 часов от начала заболевания».

Основные методы профилактики:

1. Ежегодная вакцинация против гриппа
2. Мытье рук и использование антисептиков
3. Избегание контактов с больными
4. Ношение маски в общественных местах в период эпидемии

## Источники и литература

1. Всемирная организация здравоохранения. Грипп (сезонный). https://www.who.int/ru/news-room/fact-sheets/detail/influenza-(seasonal)
2. Министерство здравоохранения. Статистический сборник 2022 года.
3. Smith J, et al. Comparing influenza and COVID-19: A review. The Lancet, 2022;395:1763-1770.

## Об авторе

Статья подготовлена врачом-эпидемиологом Семеновым А.И., кандидатом медицинских наук, с опытом работы более 15 лет в области изучения респираторных инфекций.

© 2023 Медицинский портал "ЗдоровьеИнфо". Все права защищены.
"""

# Создаем экземпляр анализатора
analyzer = EnhancedEEATAnalyzer()

# Проводим анализ для отрасли "здравоохранение"
result = analyzer.analyze(test_text, industry='health')

# Выводим общий результат
print(f"\n======= АНАЛИЗ E-E-A-T =======")
print(f"Общая оценка E-E-A-T: {result['overall_eeat_score']:.2f}")
print(f"YMYL-тематика: {'Да' if result['ymyl_status'] else 'Нет'}")
print(f"Отрасль: {result['industry']}")

# Выводим оценки по компонентам
print(f"\n======= КОМПОНЕНТЫ E-E-A-T =======")
print(f"Экспертиза (E): {result['expertise_score']:.2f}")
print(f"Авторитетность (A): {result['authority_score']:.2f}")
print(f"Доверие (T): {result['trust_score']:.2f}")
print(f"Структура: {result['structural_score']:.2f}")
print(f"Семантическая связность: {result['semantic_coherence_score']:.2f}")
print(f"Цитирование: {result['citation_score']:.2f}")
print(f"Внешние ссылки: {result['external_links_score']:.2f}")

# Выводим некоторые найденные маркеры
details = result['component_details']
print(f"\n======= НАЙДЕННЫЕ МАРКЕРЫ =======")
print("Экспертизы:", ', '.join(details['expertise']['found_markers'][:5]) + "..." if len(details['expertise']['found_markers']) > 5 else "")
print("Авторитетности:", ', '.join(details['authority']['found_markers'][:5]) + "..." if len(details['authority']['found_markers']) > 5 else "")
print("Доверия:", ', '.join(details['trust']['found_markers'][:5]) + "..." if len(details['trust']['found_markers']) > 5 else "")

# Выводим рекомендации
print(f"\n======= РЕКОМЕНДАЦИИ =======")
for rec in result['recommendations'][:5]:
    print(f"- {rec}")
if len(result['recommendations']) > 5:
    print(f"... и еще {len(result['recommendations']) - 5} рекомендаций")

# Генерация отчета в формате Markdown
report = analyzer.generate_eeat_report(result)
print(f"\n======= ПРИМЕР ОТЧЕТА (НАЧАЛО) =======")
print(report[:500] + "...\n")  # Показываем только начало отчета для краткости

# Тестирование генерации синтетических данных для обучения
print(f"\n======= ГЕНЕРАЦИЯ СИНТЕТИЧЕСКИХ ДАННЫХ =======")
synthetic_data = generate_synthetic_training_data(count=5)  # Генерируем 5 примеров
print(f"Сгенерировано примеров: {len(synthetic_data)}")
print("Пример данных:")
for key, value in synthetic_data[0].items():
    print(f"  {key}: {value}")

print("\nТест успешно завершен!")
